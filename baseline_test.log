
> code-checker@0.1.0 test
> vitest run


[1m[46m RUN [49m[22m [36mv4.0.16 [39m[90m/Users/xiangyu/CodeChecker[39m

 [32mâœ“[39m src/components/ui/__tests__/button.test.tsx [2m([22m[2m4 tests[22m[2m)[22m[32m 47[2mms[22m[39m
 [32mâœ“[39m src/app/api/analyze-request/__tests__/idempotency.test.ts [2m([22m[2m3 tests[22m[2m)[22m[32m 135[2mms[22m[39m
[90mstderr[2m | src/components/__tests__/ShikiCodeRenderer.test.tsx[2m > [22m[2mShikiCodeRenderer[2m > [22m[2mhandles highlighter error gracefully
[22m[39mShiki highlighting failed: Error: shiki error
    at Object.<anonymous> [90m(/Users/xiangyu/CodeChecker/[39msrc/components/__tests__/ShikiCodeRenderer.test.tsx:57:19[90m)[39m
    at Object.Mock [as codeToHtml] [90m(file:///Users/xiangyu/CodeChecker/[39mnode_modules/[4m@vitest/spy[24m/dist/index.js:285:34[90m)[39m
    at highlight [90m(/Users/xiangyu/CodeChecker/[39msrc/components/ShikiCodeRenderer.tsx:56:53[90m)[39m

 [32mâœ“[39m src/components/__tests__/ShikiCodeRenderer.test.tsx [2m([22m[2m4 tests[22m[2m)[22m[32m 141[2mms[22m[39m
[90mstderr[2m | src/components/__tests__/RequestDetailPanel.test.tsx
[22m[39mWarning: KaTeX doesn't work in quirks mode. Make sure your website has a suitable doctype.

[90mstderr[2m | src/components/__tests__/SubmissionForm.test.tsx[2m > [22m[2mSubmissionForm[2m > [22m[2mhandles image upload via input
[22m[39m[RangeError: Maximum call stack size exceeded]

 [32mâœ“[39m src/components/__tests__/ProblemDisplay.test.tsx [2m([22m[2m5 tests[22m[2m)[22m[32m 128[2mms[22m[39m
 [32mâœ“[39m src/components/__tests__/LanguageSwitcher.test.tsx [2m([22m[2m3 tests[22m[2m)[22m[32m 225[2mms[22m[39m
[90mstderr[2m | src/components/__tests__/SubmissionForm.test.tsx[2m > [22m[2mSubmissionForm[2m > [22m[2mremoves uploaded image
[22m[39m[RangeError: Maximum call stack size exceeded]

 [32mâœ“[39m src/components/__tests__/SubmissionForm.test.tsx [2m([22m[2m11 tests[22m[2m)[22m[33m 411[2mms[22m[39m
 [32mâœ“[39m src/components/__tests__/PipelineStatus.test.tsx [2m([22m[2m3 tests[22m[2m)[22m[32m 59[2mms[22m[39m
 [32mâœ“[39m src/components/__tests__/ThemeSwitcher.test.tsx [2m([22m[2m2 tests[22m[2m)[22m[32m 38[2mms[22m[39m
 [32mâœ“[39m src/components/__tests__/RequestDetailPanel.test.tsx [2m([22m[2m10 tests[22m[2m)[22m[33m 476[2mms[22m[39m
 [32mâœ“[39m src/lib/__tests__/utils.test.ts [2m([22m[2m4 tests[22m[2m)[22m[32m 5[2mms[22m[39m
 [32mâœ“[39m src/server/routers/__tests__/auth.test.ts [2m([22m[2m5 tests[22m[2m)[22m[32m 4[2mms[22m[39m
 [32mâœ“[39m src/server/routers/__tests__/settings.test.ts [2m([22m[2m6 tests[22m[2m)[22m[32m 9[2mms[22m[39m
[90mstderr[2m | src/lib/prompts/__tests__/loader.test.ts[2m > [22m[2mPrompt Loader[2m > [22m[2mshould handle DB errors gracefully and fallback to file
[22m[39mFailed to check settings for prompt "test-prompt", falling back to file. Error: Error: DB Error

 [32mâœ“[39m src/lib/prompts/__tests__/loader.test.ts [2m([22m[2m3 tests[22m[2m)[22m[32m 8[2mms[22m[39m
 [32mâœ“[39m src/server/routers/__tests__/requests.test.ts [2m([22m[2m9 tests[22m[2m)[22m[32m 13[2mms[22m[39m
 [32mâœ“[39m src/lib/services/__tests__/task-recovery.test.ts [2m([22m[2m7 tests[22m[2m)[22m[32m 5[2mms[22m[39m
 [32mâœ“[39m src/server/routers/__tests__/security.test.ts [2m([22m[2m5 tests[22m[2m)[22m[32m 6[2mms[22m[39m
 [32mâœ“[39m src/components/__tests__/RequestList.test.tsx [2m([22m[2m6 tests[22m[2m)[22m[32m 50[2mms[22m[39m
 [32mâœ“[39m src/components/__tests__/RequestList.smart-polling.test.tsx [2m([22m[2m6 tests[22m[2m)[22m[32m 38[2mms[22m[39m

[2m Test Files [22m [1m[32m18 passed[39m[22m[90m (18)[39m
[2m      Tests [22m [1m[32m96 passed[39m[22m[90m (96)[39m
[2m   Start at [22m 01:26:53
[2m   Duration [22m 3.68s[2m (transform 1.04s, setup 3.22s, import 8.47s, tests 1.80s, environment 4.95s)[22m

